# AI-Powered CLI Assistant

–õ—ë–≥–∫–∏–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LLM —á–µ—Ä–µ–∑ OpenRouter: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞, –∞–≤—Ç–æ-–¥–µ–±–∞–≥, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π workflow ¬´–∫–æ–¥ ‚Üí –¥–µ–±–∞–≥ ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –æ—Ç—á—ë—Ç¬ª.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (—Ñ–ª–∞–≥ `-c/--coding-only`).
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π workflow (—Ñ–ª–∞–≥ `-w/--auto-workflow`):
  1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ.
  2. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ-–¥–µ–±–∞–≥ –¥–æ 10 –∏—Ç–µ—Ä–∞—Ü–∏–π, –≤–∫–ª—é—á–∞—è GUI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
  3. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
  4. –§–æ—Ä–º–∏—Ä—É–µ—Ç JSON-–æ—Ç—á—ë—Ç.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GUI-–ø—Ä–æ–µ–∫—Ç–æ–≤ (Tkinter, PyQt5, etc.) –≤ headless-—Ä–µ–∂–∏–º–µ.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `.venv` –∏ `pip install` –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ unified-diff –ø–∞—Ç—á–µ–π: –ò–ò –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã.
- –ó–∞—â–∏—Ç–∞: —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/rafabduloff/deepcode
cd deepcode

# –°–æ–∑–¥–∞–π—Ç–µ .env –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ (env.dev —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
cp env.dev .env
# –∑–∞—Ç–µ–º –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á OpenRouter
vim .env   # –∏–ª–∏ nano .env

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11+ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
python3.11 -m pip install -r requirements.txt
```

> **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: Python **3.11** –∏–ª–∏ –Ω–æ–≤–µ–µ, Linux/macOS/WSL.
>
> GUI-—Ñ—É–Ω–∫—Ü–∏–∏ —É–±—Ä–∞–Ω—ã ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏.

### –ë—ã—Å—Ç—Ä—ã–π alias

–ß—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å, –¥–æ–±–∞–≤—å—Ç–µ –≤ `~/.zshrc` –∏–ª–∏ `~/.bashrc`:

```bash
alias ai="python ~/deepcode/askgpt.py"
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —à–µ–ª–ª (`source ~/.zshrc`) –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `ai` –≤–æ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –Ω–∏–∂–µ.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
a—ñ -c "–°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞"

# –ü–æ–ª–Ω—ã–π workflow —Å –æ—Ç—á—ë—Ç–æ–º
a—ñ -w --workflow-output report.json \
  "–ù–∞–ø–∏—à–∏ –∏–≥—Ä—É –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –µ—ë"
```

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–ª–∞–≥–∏

| –§–ª–∞–≥                                              | –û–ø–∏—Å–∞–Ω–∏–µ                                    |
| ------------------------------------------------- | ------------------------------------------- |
| `-c`, `--coding-only`                             | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ + (–æ–ø—Ü.) –∑–∞–ø—É—Å–∫              |
| `-w`, `--auto-workflow`                           | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∫–æ–¥‚Üí–¥–µ–±–∞–≥‚Üí–≤–∞–ª–∏–¥–∞—Ü–∏—è             |
| `--init [files]`                                  | –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤      |
| `--analyze`, `--refactor`, `--test`, `--document` | –î—Ä—É–≥–∏–µ —Ä–µ–∂–∏–º—ã                               |
| `-a`, `--auto-execute`                            | –ù–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥          |
| `--max-debug-iterations`                          | –°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ö–æ–¥–æ–≤ –∞–≤—Ç–æ-–¥–µ–±–∞–≥–∞ (–ø–æ —É–º–æ–ª—á. 10) |
| `--model`, `--max-tokens`                         | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã LLM –≤—ã–∑—ã–≤–∞                        |

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ ‚Äî `python askgpt.py -h`.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.ai_agent_config.json` (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):

```json
{
  "auto_execute": false,
  "ignored_dirs": [".git", "__pycache__", "node_modules", ".venv", "venv"],
  "max_debug_iterations": 10,
  "use_venv": true,
  "auto_install": true
}
```

–ú–µ–Ω—è—Ç—å –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:

```bash
python askgpt.py --config max_debug_iterations 5
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (rm -rf, curl ‚Ä¶, ssh ‚Ä¶). –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä—å—Ç–µ –º–∞—Å—Å–∏–≤ `BLACKLIST` –≤ `askgpt.py`.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ-–¥–µ–±–∞–≥

1. –°–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É.
2. –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∏ –ø–æ—Å—ã–ª–∞–µ—Ç LLM –∑–∞–ø—Ä–æ—Å —Å —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏.
3. LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–∏–∫—Å **–ª–∏–±–æ** unified-diff.
4. –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–æ–¥—É–ª–∏ (`pip install`).
5. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –¥–æ 10 —Ä–∞–∑ –∏–ª–∏ –¥–æ —É—Å–ø–µ—Ö–∞.

## –§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞

`report_*.json` —Å–æ–¥–µ—Ä–∂–∏—Ç:

```json
{
  "query": "‚Ä¶",            # –∏—Å—Ö–æ–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å
  "generated_files": ["‚Ä¶"],
  "steps": [                 # —Ö–æ–¥ workflow
    {"step": "code_generation", "files": ["‚Ä¶"]},
    {"step": "debug_file.py", "success": true}
  ],
  "validation": [            # –∏—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    {"file": "file.py", "success": true, "stdout": "‚Ä¶"}
  ],
  "timestamp": "2025-06-28T12:34:56"
}
```

## –ß–∞—Ç-—Ä–µ–∂–∏–º

–ó–∞–ø—É—Å–∫:

```bash
python askgpt.py          # –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python askgpt.py --chat   # —Ç–æ –∂–µ —Å–∞–º–æ–µ
```

–ö–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ REPL:

| –ö–æ–º–∞–Ω–¥–∞           | –î–µ–π—Å—Ç–≤–∏–µ                             |
| ----------------- | ------------------------------------ |
| `:help`           | –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É                   |
| `:exit` / `:quit` | –≤—ã–π—Ç–∏                                |
| `:reset`          | –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç                    |
| `:save [file]`    | —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ JSON             |
| `:load <file>`    | –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑ JSON            |
| `:list`           | –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π   |
| `:open <N>`       | –æ—Ç–∫—Ä—ã—Ç—å —Å–µ—Å—Å–∏—é –ø–æ –Ω–æ–º–µ—Ä—É (–∏–∑ —Å–ø–∏—Å–∫–∞) |

–ò—Å—Ç–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `~/ai/chats/` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ä–µ–ø–ª–∏–∫–∏.

---

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π LLM

–î–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ –ø—Ä–æ—Ñ–∏–ª—è:

| –ü—Å–µ–≤–¥–æ–Ω–∏–º | –ú–æ–¥–µ–ª—å                                |
| --------- | ------------------------------------- |
| **fast**  | `deepseek/deepseek-chat-v3-0324:free` |
| **power** | `deepseek/deepseek-r1:free`           |

–†–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `.env` (–∫–ª—é—á `OPENROUTER_MODEL_MODE`). –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

```bash
ai --model-mode fast    # –Ω–∞–≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ fast
ai --model-mode power   # –Ω–∞ power
ai --model-mode auto    # –∞–≤—Ç–æ-–≤—ã–±–æ—Ä (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞)

ai --show-model         # –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
```

–£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
./set_model.sh          # –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –≤—ã–±—Ä–∞—Ç—å fast / power / auto
```

---

Enjoy ü§ñ
